# Набор различных утилит для отладки приемника AIS и не только

## Постановка задачи 
1. Провести сравнительный анализ доступных недорогих радиомодулей, способных принимать AIS сигнал и проводить аппаратную демодуляцию GMSK (очень не хочется писать/добавлять готовый демодулятор GMSK)
2. Провести эксперименты по приему AIS сигнала с отобранными 2-3 радиомодулями из п1 и выбрать наилучший вариант


## Окружение 
### Софт
* Операционная система Ubuntu Ubuntu 24.04.3 LTS
* Visual Studio Code v1.108.2 с Platformio v 3.3.4
* GNU Radio v3.10.9.2 (Python 3.12.3)
* [EasyEDA](https://easyeda.com/editor) онлайн IDE для разработки радиосхем
### Железо
* Плата esp32doit-devkit-v1 в качестве управляющего микроконтроллера

## Сравнительная таблица радиомодулей для AIS
Таблица 1. Список радиомодулей для AIS

| Плата | Радиочип | Встроенный MCU | Фото | Цена на начало 2026, руб | Комментарий |
|----|---|---|---|---|---|
| XL1278-SMT | [SX1278](datascheet/SX1278.pdf) | отсутствует | ![XL1278-SMT](img/XL1278_SMT.png) | ~500 | ВЧ вход рассчитан на 433 МГц (плату на 169 МГц не получилось купить), чип поддерживает band3 137-175 МГц, чувствительность -117 дБм@4.8 кбит/с, ВЧ-ключ UPG2179TB (или его клон XA214-G4C) |
| [E30 170T20D](datascheet/E30-170T20D.pdf) от [Ebyte](https://www.cdebyte.com/products/E30-170T20D) | [SI4463](datascheet/Si4464_63_61_60.pdf) | клон STM | ![E30 170T20D](img/E30_170T20D.png) | ~750 | Требует перепрошивки MCU, жестко прописана модуляция GFSK, управление через AT-команды по UART, поддерживает 148-173,5 МГц, чувствительность -121 дБм@1 кбит/с, мощность передатчика 100 мВт (20 дБм) |
| [E32 170T30D](datascheet/E32-170T30D.pdf) от [Ebyte](https://www.cdebyte.com/products/E32-170T30D/) | [SX1278](datascheet/SX1278.pdf) | клон STM | ![E32 170T30D](img/E32_170T30D.png) | ~850 | Требует перепрошивки MCU, жестко прописана модуляция LoRa, управление через AT-команды по UART, поддерживает 160-173 МГц, чувствительность -147 дБм@2,4 кбит/с при модуляции LoRa, мощность передатчика 1 Вт (30 дБм) |

Разумеется, список далеко не полный, отбирал наиболее доступные недорогие радиомодули, к которым был интерес "потрогать в живую"

Есть ещё неплохой по характеристикам чип [Radiometrix NRX1](https://www.radiometrix.com/product/nrx1) и [Radiometrix RX1](https://www.radiometrix.com/product/rx1/), но в них нет аппаратной GMSK демодуляции, а добавлять еще модули или делать программную демодуляцию GMSK не очень хочется.

На базе платы E30 170T20D (радиочип SI4463) [AIS приемник](https://san.net.ru/ais/receiver.html) сделал [Андрей Сычев](https://san.net.ru/index.php) и даже поделился [прошивкой MCU](https://san.net.ru/ais/receiver-add.html). Андрей в своей статье написал, что не особо доволен чувствительностью приемника.

Примерно так может выглядеть ВЧ-часть на платах XL1278-SMT и E32 170T30D:

![ВЧ часть SX1278](img/rf_SX1278.png)

* RFI_LF (пин 1) - ВЧ-вход приемника SX1278
* RFO_LF (пин 28) - ВЧ-выход передатчика SX1278
* VR_PA (пин 25) - регулятор питания ВЧ-усилителя мощности
* ВЧ-ключ PE4259, по распиновке такой же, как и XA214-G4C и схожими характеристиками

Схема взята [отсюда](https://www.cdebyte.com/news/6).

## Полезные ссылки
1. [AIS приемник](https://san.net.ru/ais/receiver.html) Андрея Сычева на базе E30 170T20D (радиочип SI4463)
2. [AIS приемник](https://github.com/IDeTIC-AIS/RX-AIS) на базе радиочипа [Radiometrix RX1](https://www.radiometrix.com/product/rx1/)
